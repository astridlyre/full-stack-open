(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{59:function(e,t,n){e.exports=n(72)},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(55),o=n.n(l),c=n(4),s=function(e){var t=e.children;return a.a.createElement("main",{className:"bg-gray-800 bg-opacity-25 p-4 sm:p-16 rounded-lg w-full text-gray-300 fade-slide-down-effect flex flex-col items-center"},t)},u=function(e){var t=e.title;return a.a.createElement("h2",{className:"text-4xl font-bold text-orange-500 pb-8 fade-slide-in-effect"},a.a.createElement("span",{className:"opacity-50"},"#"),t)},i=function(e){var t=Object(r.useState)(""),n=Object(c.a)(t,2),a=n[0],l=n[1];return[{type:e,value:a,onChange:function(e){return l(e.target.value)}},function(){return l("")},l]};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=a.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g=a.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}),b=function(e){var t=e.svgRef,n=e.title,r=f(e,["svgRef","title"]);return a.a.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",ref:t},r),n?a.a.createElement("title",null,n):null,d,g)},p=a.a.forwardRef((function(e,t){return a.a.createElement(b,m({svgRef:t},e))})),v=(n.p,n(7)),y=n(18),h=n(39),E=n(58);function x(){var e=Object(y.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      value\n    }\n  }\n"]);return x=function(){return e},e}function O(){var e=Object(y.a)(["\n  mutation createUser($username: String!, $password: String!) {\n    addUser(username: $username, password: $password) {\n      name\n      username\n    }\n  }\n"]);return O=function(){return e},e}function j(){var e=Object(y.a)(["\n  mutation editUser($username: String!, $name: String!, $genre: String!) {\n    editUser(username: $username, name: $name, genre: $genre) {\n      username\n      name\n      genre\n    }\n  }\n"]);return j=function(){return e},e}function w(){var e=Object(y.a)(["\n  query {\n    me {\n      name\n      username\n      genre\n      id\n    }\n  }\n"]);return w=function(){return e},e}function k(){var e=Object(y.a)(["\n  mutation delBook($id: ID!) {\n    delBook(id: $id) {\n      message\n    }\n  }\n"]);return k=function(){return e},e}function N(){var e=Object(y.a)(["\n  mutation editAuthor($name: String!, $born: Int!) {\n    editAuthor(name: $name, born: $born) {\n      name\n      born\n      bookCount\n      id\n    }\n  }\n"]);return N=function(){return e},e}function S(){var e=Object(y.a)(["\n  mutation createBook(\n    $title: String!\n    $published: Int!\n    $author: String!\n    $genres: [String!]!\n  ) {\n    addBook(\n      title: $title\n      published: $published\n      author: $author\n      genres: $genres\n    ) {\n      title\n      published\n      author {\n        name\n      }\n      genres\n      id\n    }\n  }\n"]);return S=function(){return e},e}function C(){var e=Object(y.a)(["\n  query {\n    allAuthors {\n      name\n      born\n      bookCount\n      id\n    }\n    allBooks {\n      title\n      published\n      author {\n        name\n      }\n      genres\n      id\n    }\n  }\n"]);return C=function(){return e},e}function P(){var e=Object(y.a)(["\n  query allBooks($genres: String!) {\n    allBooks(genres: $genres) {\n      title\n      published\n      author {\n        name\n      }\n      genres\n      id\n    }\n  }\n"]);return P=function(){return e},e}var R=Object(E.a)((function(e,t){var n=t.headers,r=localStorage.getItem("booktime-user-token");return{headers:Object(h.a)(Object(h.a)({},n),{},{authorization:r?"bearer ".concat(r):null})}})),$=new v.HttpLink({uri:"http://localhost:4000/graphql "}),L=new v.ApolloClient({cache:new v.InMemoryCache,link:R.concat($)}),M=Object(v.gql)(P()),B=Object(v.gql)(C()),U=Object(v.gql)(S()),z=Object(v.gql)(N()),q=(Object(v.gql)(k()),Object(v.gql)(w())),A=Object(v.gql)(j()),I=Object(v.gql)(O()),Q=Object(v.gql)(x()),W=function(e){var t=e.author,n=e.currentUser,l=e.setNotify,o=i("number"),s=Object(c.a)(o,3),u=s[0],m=s[2],f=Object(r.useState)(!1),d=Object(c.a)(f,2),g=d[0],b=d[1],y=Object(v.useMutation)(z,{onError:function(e){l(e.graphQLErrors[0].message)},refetchQueries:[{query:B}]}),h=Object(c.a)(y,1)[0],E=Object(r.useRef)(null);Object(r.useEffect)((function(){return m(t.born||"")}),[t,m]);var x=function(){if(!g)return E.current.disabled=!1,E.current.focus(),void b(!0);E.current.disabled=!0,window.getSelection().removeAllRanges(),b(!1),h({variables:{name:t.name,born:+u.value}}).then((function(e){l("Changed ".concat(t.name,"'s dob to ").concat(e.data.editAuthor.born)),m(e.data.editAuthor.born)})).catch((function(e){return console.log(e)}))};return a.a.createElement("div",{className:"p-4 rounded bg-gray-800 bg-opacity-25 hover:bg-opacity-50 mt-2 text-gray-200 fade-slide-in-effect flex flex-col sm:flex-row sm:items-center justify-between"},a.a.createElement("div",{className:"flex sm:items-center flex-col sm:flex-row"},a.a.createElement("h3",{className:"text-2xl font-semibold"},t.name),a.a.createElement("div",{className:"sm:ml-2 text-gray-500 opacity-75 z-10"},n&&a.a.createElement("button",{onClick:x,className:g?"text-orange-500 p-1":"opacity-50 hover:opacity-100 p-1"},a.a.createElement(p,null)),a.a.createElement("span",null,t.born?"Born ":"no dob on file"),a.a.createElement("input",Object.assign({ref:E},u,{disabled:!0,className:"bg-transparent w-16 born"})),g&&a.a.createElement("div",{className:"inset-0 fixed z-minus",onClick:x}))),a.a.createElement("div",{className:"mt-4 sm:mt-0"},a.a.createElement("span",null,t.bookCount," ",1===t.bookCount?"book":"books")))};function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var D=a.a.createElement("path",{d:"M12 19l7-7 3 3-7 7-3-3z"}),G=a.a.createElement("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),T=a.a.createElement("path",{d:"M2 2l7.586 7.586"}),J=a.a.createElement("circle",{cx:11,cy:11,r:2}),K=function(e){var t=e.svgRef,n=e.title,r=H(e,["svgRef","title"]);return a.a.createElement("svg",F({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8",ref:t},r),n?a.a.createElement("title",null,n):null,D,G,T,J)},V=a.a.forwardRef((function(e,t){return a.a.createElement(K,F({svgRef:t},e))})),X=(n.p,function(e){var t=e.show,n=e.authors,r=e.currentUser,l=e.setNotify;return t?a.a.createElement(s,null,a.a.createElement("div",{className:"flex justify-between items-center w-full"},a.a.createElement(u,{title:"authors"}),a.a.createElement("div",{className:"mb-8 fade-slide-in-right-effect text-orange-500"},a.a.createElement(V,null))),a.a.createElement("ul",{className:"w-full"},n.map((function(e){return a.a.createElement(W,{key:e.id,author:e,currentUser:r,setNotify:l})})))):null}),Y=n(57),Z=function(e){var t=e.book;return a.a.createElement("div",{className:"p-4 rounded bg-gray-800 bg-opacity-25 hover:bg-opacity-50 mt-2 text-gray-200 fade-slide-in-effect flex flex-col sm:grid sm:grid-cols-3 sm:gap-x-4 justify-between"},a.a.createElement("div",{className:"sm:col-span-2"},a.a.createElement("h3",{className:"text-2xl font-semibold"},t.title),a.a.createElement("ul",{className:"flex"},t.genres.map((function(e,t){return a.a.createElement("li",{key:t,className:"mr-2 text-orange-500 opacity-50 font-semibold"},e)})))),a.a.createElement("div",{className:"flex flex-col sm:items-end mt-4 sm:mt-0 sm:text-right"},a.a.createElement("h4",null,"by ",t.author.name),a.a.createElement("span",{className:"text-gray-500 opacity-75"},"published ",t.published)))},_=function(e){var t=e.genres,n=e.filter,r=e.setFilter,l=Array.from(t);return a.a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-x-2 gap-y-2 mt-2 fade-slide-down-effect"},a.a.createElement("button",{onClick:function(){return r(null)},className:"p-2 bg-gray-700 font-semibold text-sm bg-opacity-75 hover:bg-opacity-100 ease-out-effect rounded"},"Clear Filters"),l.map((function(e,t){return a.a.createElement("button",{key:t,className:"".concat(n===e?"bg-orange-500":"bg-gray-800"," p-2 bg-opacity-50 font-semibold text-sm hover:bg-opacity-100 ease-out-effect rounded"),onClick:function(){return r(e)}},e)})))};function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ne=a.a.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),re=a.a.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}),ae=function(e){var t=e.svgRef,n=e.title,r=te(e,["svgRef","title"]);return a.a.createElement("svg",ee({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8",ref:t},r),n?a.a.createElement("title",null,n):null,ne,re)},le=a.a.forwardRef((function(e,t){return a.a.createElement(ae,ee({svgRef:t},e))})),oe=(n.p,function(e){var t=e.show,n=e.books,l=Object(r.useState)(null),o=Object(c.a)(l,2),i=o[0],m=o[1],f=Object(r.useState)(!1),d=Object(c.a)(f,2),g=d[0],b=d[1],p=i?n.filter((function(e){return e.genres.includes(i)})):n;return t?a.a.createElement(s,null,a.a.createElement("div",{className:"flex justify-between items-center w-full"},a.a.createElement(u,{title:"books"}),a.a.createElement("div",{className:"mb-8 fade-slide-in-right-effect text-orange-500"},a.a.createElement(le,null))),a.a.createElement("div",{className:"w-full"},a.a.createElement("button",{onClick:function(){return b(!g)},className:"font-semibold text-sm w-full p-2 bg-gray-800 bg-opacity-50 rounded hover:bg-opacity-100"},g?" Hide Filter ".concat(i?"(filtering by: ".concat(i,")"):""):" Show Filters ".concat(i?"(filtering by: ".concat(i,")"):"")),g&&a.a.createElement(_,{filter:i,setFilter:m,genres:function(){var e=[];return n.forEach((function(t){return e.push.apply(e,Object(Y.a)(t.genres))})),new Set(e)}()})),a.a.createElement("ul",{className:"w-full"},p.map((function(e){return a.a.createElement(Z,{key:e.id,book:e})})))):null}),ce=function(e){var t=e.input,n=e.text;return a.a.createElement("label",null,a.a.createElement("span",{className:"mb-1 font-medium"},n),a.a.createElement("input",Object.assign({className:"form-input bg-gray-300 text-gray-900 w-full"},t)))};function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ie=a.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}),me=function(e){var t=e.svgRef,n=e.title,r=ue(e,["svgRef","title"]);return a.a.createElement("svg",se({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8",ref:t},r),n?a.a.createElement("title",null,n):null,ie)},fe=a.a.forwardRef((function(e,t){return a.a.createElement(me,se({svgRef:t},e))})),de=(n.p,function(e){var t=e.show,n=e.setNotify,l=i("text"),o=Object(c.a)(l,2),m=o[0],f=o[1],d=i("text"),g=Object(c.a)(d,2),b=g[0],p=g[1],y=i("number"),h=Object(c.a)(y,2),E=h[0],x=h[1],O=i("text"),j=Object(c.a)(O,2),w=j[0],k=j[1],N=Object(r.useState)([]),S=Object(c.a)(N,2),C=S[0],P=S[1],R=Object(v.useMutation)(U,{onError:function(e){n(e.graphQLErrors[0].message)},refetchQueries:[{query:B}]}),$=Object(c.a)(R,1)[0];if(!t)return null;return a.a.createElement(s,null,a.a.createElement("div",{className:"flex justify-between items-center relative w-full"},a.a.createElement(u,{title:"add book"}),a.a.createElement("div",{className:"mb-8 fade-slide-in-right-effect text-orange-500"},a.a.createElement(fe,null))),a.a.createElement("form",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-x-8 gap-y-4",onSubmit:function(e){e.preventDefault(),$({variables:{title:m.value,published:+E.value,author:b.value,genres:C}}).catch((function(e){return console.log(e)})),n("Created Book: ".concat(m.value)),f(),p(),x(),x(),k(),P([])}},a.a.createElement(ce,{input:m,text:"Title"}),a.a.createElement(ce,{input:b,text:"Author"}),a.a.createElement(ce,{input:E,text:"Published"}),a.a.createElement("div",{className:"md:flex md:items-end"},a.a.createElement(ce,{input:w,text:"Add Genres"}),a.a.createElement("button",{onClick:function(){n("Added genre: ".concat(w.value)),P(C.concat(w.value)),k()},type:"button",className:"md:ml-2 md:mt-0 mt-4 w-full lg:w-1/2 px-8 py-2 border-2 border-gray-700 hover:border-orange-700 hover:text-orange-500 rounded font-semibold text-sm focus:border-orange-700 ease-out-effect"},"Add Genre")),a.a.createElement("div",{className:"py-2"},a.a.createElement("span",{className:"font-semibold"},"Genres:")," ",C.map((function(e,t){return a.a.createElement("span",{key:t,className:"inline-block ml-2 font-semibold"},e)}))),a.a.createElement("button",{type:"submit",className:"p-3 font-semibold text-sm text-gray-100 bg-gray-700 hover:bg-orange-700 rounded focus:bg-orange-700 ease-out-effect"},"Add Book")))});function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var pe=a.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),ve=a.a.createElement("circle",{cx:9,cy:7,r:4}),ye=a.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),he=a.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),Ee=function(e){var t=e.svgRef,n=e.title,r=be(e,["svgRef","title"]);return a.a.createElement("svg",ge({width:100,height:100,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-48",ref:t},r),n?a.a.createElement("title",null,n):null,pe,ve,ye,he)},xe=a.a.forwardRef((function(e,t){return a.a.createElement(Ee,ge({svgRef:t},e))})),Oe=(n.p,function(e){var t=e.show,n=e.setPage,l=e.setCurrentUser,o=e.setNotify,m=i("text"),f=Object(c.a)(m,2),d=f[0],g=f[1],b=i("password"),p=Object(c.a)(b,2),y=p[0],h=p[1],E=i("password"),x=Object(c.a)(E,2),O=x[0],j=x[1],w=Object(r.useState)(!1),k=Object(c.a)(w,2),N=k[0],S=k[1],C=Object(v.useMutation)(I),P=Object(c.a)(C,1)[0],R=Object(v.useMutation)(Q),$=Object(c.a)(R,1)[0],L=function(e){e.preventDefault(),$({variables:{username:d.value,password:y.value}}).then((function(e){var t=e.data.login.value;l(t),n("authors"),localStorage.setItem("booktime-user-token",t),o("Login Successful! Hi ".concat(d.value))})).catch((function(e){return console.log(e)})),g(),h(),j()};return t?a.a.createElement(s,null,a.a.createElement("div",{className:"flex justify-between items-center relative w-full"},a.a.createElement(u,{title:"login"})),a.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 sm:w-full"},a.a.createElement("form",{className:"max-w-md grid grid-cols-1 gap-y-4",onSubmit:N?function(e){e.preventDefault(),y.value===O.value?P({variables:{username:d.value,password:y.value}}).then((function(){o("Signup Successful! Logging you in ".concat(d.value)),L()})).catch((function(e){return console.log(e)})):o("Passwords do not match!")}:L},a.a.createElement(ce,{input:d,text:"Username"}),a.a.createElement(ce,{input:y,text:"Password"}),N&&a.a.createElement(ce,{input:O,text:"Confirm Password"}),a.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-x-4"},a.a.createElement("button",{type:"submit",className:"font-semibold text-sm bg-gray-700 py-3 rounded hover:bg-orange-600 ease-out-effect"},N?"sign up":"login"),a.a.createElement("button",{type:"button",onClick:function(){return S(!N)},className:"mt-2 md:mt-0 font-semibold text-sm bg-gray-800 py-3 rounded hover:bg-gray-700 ease-out-effect"},N?"cancel":"create account"))),a.a.createElement("div",{className:"hidden md:flex text-orange-500 items-center justify-center"},a.a.createElement(xe,null)))):null});function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ke=a.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),Ne=a.a.createElement("circle",{cx:12,cy:7,r:4}),Se=function(e){var t=e.svgRef,n=e.title,r=we(e,["svgRef","title"]);return a.a.createElement("svg",je({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8",ref:t},r),n?a.a.createElement("title",null,n):null,ke,Ne)},Ce=a.a.forwardRef((function(e,t){return a.a.createElement(Se,je({svgRef:t},e))})),Pe=(n.p,function(e){var t,n,l=e.show,o=Object(r.useState)(!1),m=Object(c.a)(o,2),f=m[0],d=m[1],g=i("text"),b=Object(c.a)(g,3),p=b[0],y=b[2],h=i("text"),E=Object(c.a)(h,3),x=E[0],O=E[2],j=Object(r.useRef)(null),w=Object(r.useRef)(null),k=Object(v.useQuery)(q),N=(null===(t=k.data)||void 0===t?void 0:t.me)||null,S=Object(v.useMutation)(A,{refetchQueries:[{query:q},{query:M,variables:{genres:null===N||void 0===N?void 0:N.genre}}]}),C=Object(c.a)(S,1)[0],P=Object(v.useLazyQuery)(M),R=Object(c.a)(P,2),$=R[0],L=(null===(n=R[1].data)||void 0===n?void 0:n.allBooks)||[];if(Object(r.useEffect)((function(){N&&(y(N.name||""),O(N.genre||""),$({variables:{genres:N.genre}}))}),[N,y,O,$]),!l)return null;return a.a.createElement(s,null,a.a.createElement("div",{className:"flex justify-between items-center relative w-full"},k.data&&a.a.createElement(u,{title:"hello ".concat(N.username)}),a.a.createElement("div",{className:"mb-8 fade-slide-in-right-effect text-orange-500"},a.a.createElement(Ce,null))),a.a.createElement("form",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-x-8 gap-y-8 w-full"},a.a.createElement("h3",{className:"font-semibold opacity-50 w-full flex items-center md:justify-end"},a.a.createElement("span",null,"Username"),a.a.createElement("span",{className:"md:hidden"},": ",N.username)),a.a.createElement("h3",{className:"hidden md:flex font-semibold opacity-50 w-full items-center"},a.a.createElement("span",null,N.username)),a.a.createElement("h3",{className:"font-semibold w-full flex items-center md:justify-end"},a.a.createElement("span",null,"Name")),a.a.createElement("input",Object.assign({ref:j},p,{className:"".concat(f&&"border-orange-500"," form-input bg-gray-300 text-gray-900"),disabled:!0})),a.a.createElement("h3",{className:"font-semibold w-full flex items-center md:justify-end"},a.a.createElement("span",null,"Favourite Genre")),a.a.createElement("input",Object.assign({ref:w},x,{className:"".concat(f&&"border-orange-500"," form-input bg-gray-300 text-gray-900"),disabled:!0})),a.a.createElement("div",{className:"hidden sm:block"}),a.a.createElement("button",{type:"button",onClick:function(e){if(e.preventDefault(),f)return C({variables:{username:N.username,name:p.value,genre:x.value}}),d(!1),j.current.disabled=!0,w.current.disabled=!0,void window.getSelection().removeAllRanges();d(!0),j.current.disabled=!1,w.current.disabled=!1,j.current.focus()},className:"p-3 font-semibold text-sm text-gray-100 bg-gray-700 hover:bg-orange-700 rounded focus:bg-orange-700 ease-out-effect"},f?"Save Profile":"Edit Profile")),a.a.createElement("ul",{className:"w-full mt-8"},a.a.createElement(u,{title:"recommended books"}),!L.length&&a.a.createElement("span",{className:"text-gray-100 opacity-50"},"No recommendations at this time."),L.map((function(e){return a.a.createElement(Z,{key:e.id,book:e})}))))}),Re=function(){return a.a.createElement("div",null,a.a.createElement("h1",{className:"text-2xl font-bold text-orange-500"},"booktime"))},$e=function(e){var t=e.setPage,n=e.currentUser,r=e.logout;return a.a.createElement("div",{className:"ml-auto hidden sm:block"},a.a.createElement("button",{className:"focus:outline-none focus:text-orange-700 text-orange-500 font-semibold sm:py-2 underline-effect ease-out-effect",onClick:function(){return t("authors")}},"authors"),a.a.createElement("button",{className:"focus:outline-none focus:text-orange-700 text-orange-500 font-semibold sm:ml-8 sm:py-2 underline-effect ease-out-effect",onClick:function(){return t("books")}},"books"),n&&a.a.createElement("button",{className:"focus:outline-none focus:text-orange-700 text-orange-500 font-semibold sm:ml-8 sm:py-2 underline-effect ease-out-effect",onClick:function(){return t("add")}},"add book"),n&&a.a.createElement("button",{className:"focus:outline-none focus:text-orange-700 text-orange-500 font-semibold sm:ml-8 sm:py-2 underline-effect ease-out-effect",onClick:function(){return t("profile")}},"profile"),a.a.createElement("button",{className:"focus:outline-none focus:text-orange-700 text-orange-500 font-semibold sm:ml-8 sm:py-2 underline-effect ease-out-effect",onClick:n?r:function(){return t("login")}},n?"logout":"login"))};function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Be=a.a.createElement("line",{x1:3,y1:12,x2:21,y2:12}),Ue=a.a.createElement("line",{x1:3,y1:6,x2:21,y2:6}),ze=a.a.createElement("line",{x1:3,y1:18,x2:21,y2:18}),qe=function(e){var t=e.svgRef,n=e.title,r=Me(e,["svgRef","title"]);return a.a.createElement("svg",Le({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",ref:t},r),n?a.a.createElement("title",null,n):null,Be,Ue,ze)},Ae=a.a.forwardRef((function(e,t){return a.a.createElement(qe,Le({svgRef:t},e))})),Ie=(n.p,function(e){var t=e.setPage,n=e.showMenu,r=e.setShowMenu,l=e.currentUser,o=e.logout,c=function(e){r(!1),t(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:function(){return r(!n)},className:"p-2 text-orange-500 hover:bg-gray-800 focus:bg-gray-800 rounded hover:bg-opacity-25 focus:bg-opacity-25 sm:hidden relative z-40"},a.a.createElement(Ae,null)),a.a.createElement("div",{className:"absolute inset-x-0 top-0 py-8 flex flex-col items-center z-30 fade-slide-down-effect ".concat(n?"":"hidden")},a.a.createElement("div",{className:"p-4 z-20"},a.a.createElement("button",{className:"text-3xl focus:outline-none focus:text-orange-600 text-orange-500 font-semibold underline-effect",onClick:function(){return c("authors")}},"authors")),a.a.createElement("div",{className:"p-4 z-20"},a.a.createElement("button",{className:"text-3xl focus:outline-none focus:text-orange-600 text-orange-500 font-semibold underline-effect",onClick:function(){return c("books")}},"books")),l&&a.a.createElement("div",{className:"p-4 z-20"},a.a.createElement("button",{className:"text-3xl focus:outline-none focus:text-orange-600 text-orange-500 font-semibold underline-effect",onClick:function(){return c("add")}},"add book")),l&&a.a.createElement("div",{className:"p-4 z-20"},a.a.createElement("button",{className:"text-3xl focus:outline-none focus:text-orange-600 text-orange-500 font-semibold underline-effect",onClick:function(){return c("profile")}},"profile")),a.a.createElement("div",{className:"p-4 z-20"},a.a.createElement("button",{className:"text-3xl focus:outline-none focus:text-orange-600 text-orange-500 font-semibold underline-effect",onClick:l?o:function(){return c("login")}},l?"logout":"login"))),a.a.createElement("div",{onClick:function(){return r(!1)},className:"".concat(!n&&"hidden"," fixed top-0 right-0 circle-el bg-gray-800 scale-up z-20")}))}),Qe=function(e){var t=e.setPage,n=e.currentUser,l=e.logout,o=Object(r.useState)(!1),s=Object(c.a)(o,2),u=s[0],i=s[1],m=function(){i(!1),l()};return a.a.createElement("nav",{className:"w-full flex justify-between items-center p-8 sm:p-0 sm:px-16"},a.a.createElement(Re,null),a.a.createElement($e,{setPage:t,currentUser:n,logout:m}),a.a.createElement(Ie,{setPage:t,showMenu:u,setShowMenu:i,currentUser:n,logout:m}))},We=function(e){var t=e.text;return a.a.createElement("div",{className:"absolute inset-x-0 -mt-4 sm:mt-0 flex justify-center"},a.a.createElement("div",{className:"sm:px-16 px-4 w-full max-w-screen-lg"},a.a.createElement("div",{className:"px-3 py-2 font-semibold text-orange-500 bg-gray-800 fade-slide-up-effect rounded"},t)))},Fe=function(e){var t=e.children;return a.a.createElement("div",{className:"max-w-screen-lg mx-auto sm:p-4"},t)};function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ge=a.a.createElement("line",{x1:12,y1:2,x2:12,y2:6}),Te=a.a.createElement("line",{x1:12,y1:18,x2:12,y2:22}),Je=a.a.createElement("line",{x1:4.93,y1:4.93,x2:7.76,y2:7.76}),Ke=a.a.createElement("line",{x1:16.24,y1:16.24,x2:19.07,y2:19.07}),Ve=a.a.createElement("line",{x1:2,y1:12,x2:6,y2:12}),Xe=a.a.createElement("line",{x1:18,y1:12,x2:22,y2:12}),Ye=a.a.createElement("line",{x1:4.93,y1:19.07,x2:7.76,y2:16.24}),Ze=a.a.createElement("line",{x1:16.24,y1:7.76,x2:19.07,y2:4.93}),_e=function(e){var t=e.svgRef,n=e.title,r=De(e,["svgRef","title"]);return a.a.createElement("svg",He({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-12 h-12 rotater",ref:t},r),n?a.a.createElement("title",null,n):null,Ge,Te,Je,Ke,Ve,Xe,Ye,Ze)},et=a.a.forwardRef((function(e,t){return a.a.createElement(_e,He({svgRef:t},e))})),tt=(n.p,function(){var e,t,n=Object(r.useState)("books"),l=Object(c.a)(n,2),o=l[0],s=l[1],u=Object(r.useState)(null),i=Object(c.a)(u,2),m=i[0],f=i[1],d=Object(r.useState)(null),g=Object(c.a)(d,2),b=g[0],p=g[1],y=Object(r.useState)(null),h=Object(c.a)(y,2),E=h[0],x=h[1],O=Object(v.useQuery)(B),j=(null===(e=O.data)||void 0===e?void 0:e.allBooks)||[],w=(null===(t=O.data)||void 0===t?void 0:t.allAuthors)||[],k=Object(v.useApolloClient)();Object(r.useEffect)((function(){var e=localStorage.getItem("booktime-user-token");e&&x(e)}),[]);var N=function(e){f(e),b&&(clearTimeout(b),p(null));var t=setTimeout((function(){f(null),p(null)}),3e3);p(t)};return a.a.createElement("div",{className:"bg-gray-900 min-h-screen"},a.a.createElement(Fe,null,a.a.createElement(Qe,{setPage:s,currentUser:E,setCurrentUser:x,logout:function(){N("Logged out"),"add"!==o&&"profile"!==o||s("authors"),x(null),localStorage.removeItem("booktime-user-token"),k.resetStore()}})),m&&a.a.createElement(We,{text:m}),O.loading?a.a.createElement(Fe,null,a.a.createElement("div",{className:"w-full h-64 flex justify-center items-center text-orange-500"},a.a.createElement(et,null))):a.a.createElement(Fe,null,a.a.createElement(X,{show:"authors"===o,authors:w,currentUser:E,setNotify:N}),a.a.createElement(oe,{show:"books"===o,books:j}),E&&a.a.createElement(de,{show:"add"===o,setNotify:N}),E&&a.a.createElement(Pe,{show:"profile"===o,setNotify:N}),a.a.createElement(Oe,{show:"login"===o,setPage:s,setCurrentUser:x,setNotify:N})))});n(70),n(71);o.a.render(a.a.createElement(v.ApolloProvider,{client:L},a.a.createElement(tt,null)),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.a87beef5.chunk.js.map